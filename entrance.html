<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-GNSQLCB270"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-GNSQLCB270');
    </script>
    <!-- Microsoft Clarity -->
    <script type="text/javascript">
        (function(c,l,a,r,i,t,y){
            c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
            t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
            y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
        })(window, document, "clarity", "script", "ftn2h4ylm0");
    </script>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>$haoø</title>
    <!-- Bootstrap CSS 4.2.1 -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
    <!-- Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>
    <!-- My CSS -->
    <link rel="stylesheet" href="static/css/entrance.css">

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">   
</head>
<body>
    <div class="container">
        <div class="col-12 info-title border-bottom border-success border-3 text-center mt-4">
            <h1>$haø is fierce.</h1>
        </div>
        <div class="row info-1 mt-4">
            <div class="col-6">
                <img src="static/img/shao-logo.jpg" class="shao-logo mx-auto d-block img-thumbnail" alt="shao">
            </div>
            <div class="col-6">
                嗨&nbsp;我是卲如&nbsp;
                <br>給我點意見吧 :)
            </div>
        </div>
        <div class="row info-2 mt-4">
            <div class="col-12">
                <span class="badge rounded-pill bg-success">#網頁</span>
                <span class="badge rounded-pill bg-success">#拍片</span>
                <span class="badge rounded-pill bg-success">#剪片</span>
                <span class="badge rounded-pill bg-success">#排球</span>
            </div>
            <div class="col-12 text-center mt-4">
                桃園。埔心&nbsp;&nbsp;<->&nbsp;&nbsp;雲林。斗六
            </div>
        </div>
        <div class="row info-3 mt-4">
            <div class="col-12 border-top border-success border-3">
                <h4 class="text-center my-4">網站架構</h4>
                <div class="row text-center">
                    <div class="col-6">
                        Google Sheet
                    </div>
                    <div class="col-6">
                        網頁
                    </div>
                    <div class="col-6">
                        github page
                    </div>
                    <div class="col-6">
                        Google Cloud Platform
                    </div>
                </div>
                <div class="row mt-2">
                    以 google sheet 作為資料庫，讀取資料的部分，要透過 Google Cloud Platform 提供的 API 去串接。
                </div>
            </div>
            <div class="col-6 mx-auto">
                <img id="MembersImgFormAPI" class="img-fluid mx-auto" src="" alt="">
            </div>
        </div>
        <div class="row info-3 mt-4">
            <div class="col-12 border-top border-success border-3 mb-5">
                <h4 class="text-center mt-4">系排已死 有事燒紙</h4>
                <div class="text-center">資管系排已經要倒了，都是這些人在搞</div>
            </div>
            <div class="col-12">
                <div id="Members" class="carousel slide" data-bs-ride="carousel">
                    <div id="MembersImg" class="carousel-inner mx-auto w-75">
                      <div class="carousel-item active">
                        <img src="static/img/shao-logo.jpg" class="d-block w-50 mx-auto" alt="...">
                        <div class="member-title text-center mx-auto w-75 mt-3">
                            :)
                        </div>
                      </div>
                    </div>
                    <a class="carousel-control-prev ml-4" href="#Members" data-slide="prev">
                        <span class="carousel-control-prev-icon"></span>
                    </a>
                    <a class="carousel-control-next mr-4" href="#Members" data-slide="next">
                        <span class="carousel-control-next-icon"></span>
                    </a>
                </div>
                
            </div>
        </div>
            
            <div class="col-12 border-top border-success border-3 leave-message mt-4">
                <h4 class="text-center my-4">跟我交朋友吧</h4>
                
                <form id="MSG-form" class="px-2" method="POST" action="https://script.google.com/macros/s/AKfycbyA3KuRsnExWKS6aNBfvD6K9EW-EGS1KblrhO-t2kaNiK686WWwaiVSrlHCx13mpV2_/exec">
                    <div class="make-friend-YorN">
                        <div class="form-group make-friend-btn-form-group mx-2 text-center">
                            <button type="button" class="btn btn-sm btn-yes" onclick="makeFriend('yes')">
                                Yes
                            </button>
                            <button type="button" class="btn btn-sm btn-no" onclick="makeFriend('no')">
                                No
                            </button>
                            <input type="hidden" id="Yes_or_No" name="Yes_or_No" value = "unsure" required>
                        </div>
                    </div>
                    <div class="form-group mx-2">
                        <label for="NameOfLeavingMsg">▼ 暱稱 (15)</label>
                        <input class="form-control" id="NameOfLeavingMsg" maxlength="15" type="text" name="Name" placeholder="暱稱" required aria-label=".form-control">
                    </div>
                    <div class="form-group mx-2">
                        <label for="Msg">▼ 留下一句話(20)</label>
                        <input class="form-control" id="Msg" maxlength="20" type="text" name="Msg" placeholder="留言" required aria-label=".form-control">
                    </div>
                    <button type="submit" class="btn btn-sm btn-submit mx-2" >送出</button>
                </form>
            </div>
        <div class="row info-3 mt-4">
            <div class="col-12 border-top border-success border-3">
                <h4 class="text-center my-4">目前我有 <span id="Number_Of_Friends">0</span> 位朋友</h4>
            </div>
            <div class="col-10 mx-auto">
                <div>
                    XXX 說
                </div>
                <div>
                    123456
                </div>
                <table id="MsgTable" class="friends-table mx-auto w-100 pl-2 py-1">
                    <thead>
                        <tr>
                            <th class="w-25">時間</th>
                            <th>名稱</th>
                            <th>留言</th>
                        </tr>
                    </thead>
                    <tbody>
                    </tbody>
                </table>
            </div>
            <div class="col-12 text-center my-4">
                歡迎一直點進來，我會努力持續優化的！
            </div>
        </div>
            
    </div>
</body>
<script src="static/js/MsgGoogleSheetAPI.js" crossorigin="anonymous"></script>
<script src="static/js/MembersGoogleSheetAPI.js" crossorigin="anonymous"></script>

<script>
    var ans = "unsure";
    window.addEventListener("load", function() {
    const form = document.getElementById('MSG-form');
    form.addEventListener("submit", function(e) {
        if(ans == "yes"){
            e.preventDefault();
            const data = new FormData(form);
            const action = e.target.action;
            fetch(action, {
            method: 'POST',
            body: data,
            })
            .then(() => {
                window.location.href = "https://shao112.github.io/shao/entrance.html";
            })
        }else{
            e.preventDefault();
            alert("不交朋友就不要送出欸(怒)");
        }
        
    });
    });
    
    function makeFriend(a){
        this.ans = a;
        if(ans == "yes"){
            var yesBtn = document.querySelector(".btn-no");
            yesBtn.setAttribute('disabled','');

            var yes = document.querySelector("#Yes_or_No");
            yes.value = "yes"
            alert("謝謝跟我當朋友，不能反悔了ㄡ")
        }else if(ans == "no"){
            var no = document.querySelector("#Yes_or_No");
            no.value = "no"
            alert("真的不當朋友嗎")
        }
    }




</script>
</html>
